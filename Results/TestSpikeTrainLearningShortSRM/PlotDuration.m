
%% load data
clear all
clc

load('TestDuration.mat')

C1 = zeros(50,2);
C2 = zeros(50,2);
C3 = zeros(50,2);
C4 = zeros(50,2);
for i = 1:50
    [C1(i,1),C1(i,2)] = max(OfflineStaticDelayDuration500(i,:));
    [C2(i,1),C2(i,2)] = max(OfflineDynamicDelayDuration500(i,:));
    [C3(i,1),C3(i,2)] = max(OnlineStaticDelayDuration500(i,:));
    [C4(i,1),C4(i,2)] = max(OnlineDynamicDelayDuration500(i,:));
end

%% avg
m1 = mean(C1);
m2 = mean(C2);
m3 = mean(C3);
m4 = mean(C4);

s1 = std(C1);
s2 = std(C2);
s3 = std(C3);
s4 = std(C4);
%% data
clear all

C=[0.970858689959146,0.952989006233669,0.961963057770331,0.945007825342859,0.947549963688414,0.942687912197645,0.925925345291063,0.913696531909617,0.870631952724997,0.844588632560041
0.995136448333886,0.986720684392106,0.980577457840736,0.967604432007497,0.947597021790185,0.933706703727335,0.852429815959578,0.798380500396525,0.714673032060682,0.679425263196347
0.979364973632261,0.975283715157853,0.975936440800625,0.962959987108961,0.958347489143144,0.950348992779346,0.944208925839845,0.933750050385094,0.944207618585791,0.933291408769390
0.989551778819937,0.988523087642189,0.981507514518084,0.978669877421672,0.976782950415211,0.977100813036196,0.965499132300401,0.955566020981175,0.963796087009521,0.959695922365551];

Epoch=[80.600000000000000,87.100000000000000,87.180000000000000,79.980000000000000,83.160000000000000,78.280000000000000,79.680000000000000,71.100000000000000,62.380000000000000,55.920000000000000
66.540000000000000,76.060000000000000,80.460000000000000,77.680000000000000,73.360000000000000,69.480000000000000,47.040000000000000,31.520000000000000,18.440000000000000,14.280000000000000
14.700000000000000,19.800000000000000,15.880000000000000,20.840000000000000,24.080000000000000,21.640000000000000,24.880000000000000,22.960000000000000,20.060000000000000,20.200000000000000
66.640000000000000,70.460000000000000,59.640000000000000,62.440000000000000,54.860000000000000,46.240000000000000,48.380000000000000,47.500000000000000,31.120000000000000,30.220000000000000];

Cstd=[0.026602589127119,0.043501406748679,0.039113944945333,0.067619988076640,0.065963429102034,0.075981323313244,0.085546182085716,0.085717380262591,0.119723532675830,0.123617362628523
0.008452329135861,0.013712458944097,0.021090612543007,0.041147591833350,0.065621144508772,0.079113850820325,0.105900184112658,0.109360612277046,0.086233437146892,0.062506438221356
0.020389625314883,0.031282161638603,0.023878084326931,0.035077652433334,0.031840482812526,0.062533163970766,0.035653989903337,0.053823266022207,0.028259973937919,0.026776518150347
0.019248723522493,0.022726258975946,0.026012423588521,0.023123387369989,0.024209138603178,0.021488266127105,0.033222486343209,0.054352328178914,0.036840515373312,0.032846130432593];

Epochstd=[13.588710800678990,9.862834795538333,10.841511303639303,13.001554067236166,14.434030084830637,18.281294108615896,17.578326172318235,21.077359940011850,28.835840793805790,27.497562044067596
17.321933718701906,14.806796564071375,14.883506828372274,17.179057017193927,20.888196061265738,23.520065250499520,25.719015438038078,24.079155182142806,10.071499493164676,4.384760249885916
11.806691288573333,18.262261746060720,12.136368014007672,17.355067483214775,20.873613848637728,19.933317407224084,24.734211620542830,24.196440959406420,21.081387477089446,20.249464593577052
18.368962287244322,19.507413556734510,21.825616853147775,22.724759489982528,27.811324957980116,26.891740633244890,26.687832586466545,27.672464764137818,25.318090652450753,29.224877576950690];

%% plot C
x = 1:10;

figure('position', [800,400,400,200]);
errorbar(x, C(1,:), Cstd(1,:), '+--r','lineWidth', 1)
hold on;
errorbar(x, C(2,:), Cstd(2,:), 'x--b','lineWidth', 1)
hold on;
errorbar(x, C(3,:), Cstd(3,:), 'o-r','lineWidth', 1)
hold on;
errorbar(x, C(4,:), Cstd(4,:), 's-b','lineWidth', 1)
hold on;

axis([0.5, 10.5, 0.6, 1.04]);%xmin xmax ymin ymax
set(gca,'XTick',[1,2,3,4,5,6,7,8,9,10],'Fontsize',10,'FontName','Times New Roman');
set(gca,'XTickLabel', {'50','100','150','200','250','300','350','400','450','500'},'FontSize',10,'FontName','Times New Roman');

xlabel('Length of Spike Trains (ms)','Fontsize',12,'FontName','Times New Roman');
ylabel('\it C','Fontsize',12,'FontName','Times New Roman');

legend({'Off-SD','Off-DD','On-SD','On-DD'},'location','best','Fontsize',10);
title('(a)','fontname','Times New Roman','fontsize',12);
hold off;
%% plot epoch

figure('position', [800,400,400,200]);
bar(Epoch');
hold on

numgroups = size(Epoch, 2); 
numbars = size(Epoch, 1); 
groupwidth = min(0.8, numbars/(numbars+1.5));
for i = 1:numbars
      % Based on barweb.m by Bolu Ajiboye from MATLAB File Exchange
      x = (1:numgroups) - groupwidth/2 + (2*i-1) * groupwidth / (2*numbars);  % Aligning error bar with individual bar
      errorbar(x, Epoch(i,:), Epochstd(i,:), 'k', 'linestyle', 'none', 'lineWidth', 1);
end

axis([0.5, 10.5, 0, 125]);%xmin xmax ymin ymax
set(gca,'XTick',[1,2,3,4,5,6,7,8,9,10],'Fontsize',10,'FontName','Arial');
set(gca,'XTickLabel', {'50','100','150','200','250','300','350','400','450','500'},'FontSize',10,'FontName','Times New Roman');


xlabel('Length of Spike Trains (ms)','Fontsize',12,'FontName','Times New Roman');
ylabel('Learning Epochs','Fontsize',12,'FontName','Times New Roman');

legend({'Off-SD','Off-DD','On-SD','On-DD'},'location','best','Fontsize',10);
title('(b)','fontname','Times New Roman','fontsize',12);

hold off;